#!/bin/bash
# -----------------------------------------------------------------------------
# Start Script for rp (RingoJS package management client)
#
# Needs either:
#  * RINGO_HOME environment variable set
#  * RingoJS' "bin" directory in the PATH environment variable
#  * this shell script being linked into RingoJS' "bin" directory
#
# -----------------------------------------------------------------------------

# first, check if ringo is in path
RINGO=`type -P ringo`
if [ -z "$RINGO" ]; then
    # ringo is not in path - check RINGO_HOME env variable
    if [ -n "$RINGO_HOME" ]; then
        RINGO="$RINGO_HOME/bin/ringo"
    else
        DIR="$(dirname "$0")"
        if [ -L $0 ] && [ -e "$DIR/ringo" ]; then
            RINGO="$DIR/ringo"
        fi
    fi
fi

if [ -z "$RINGO" ]; then
    echo "Unable to find RingoJS."
    echo "Please set the RINGO_HOME environment variable or add RingoJS to the path."
    exit 1
fi

"$RINGO" ./rp/lib/rp/rp.js $@
